.detailedVizContainer {
  position: absolute;
  top: 60px; /* Adjust as needed */
  left: 50%;
  transform: translateX(-50%);
  width: clamp(300px, 90%, 750px); /* Responsive width */
  background-color: rgba(255, 255, 255, 0.98); /* Brighter background */
  border: 1px solid #aed6f1; /* Lighter blue border */
  border-radius: 6px;
  padding: 12px 15px;
  z-index: 18;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
  pointer-events: none;
  overflow: hidden; /* Clip content during animation */
}

.operationTitle {
  text-align: center;
  font-weight: 600; /* Bolder */
  margin-bottom: 12px;
  color: #34495e; /* Darker blue-grey */
  font-size: 1.05em;
}
.phaseHighlight {
    font-weight: 700;
    color: #2980b9; /* Blue */
    padding: 2px 4px;
    background-color: #ecf0f1; /* Light grey */
    border-radius: 3px;
    margin-left: 5px;
}

.computePhaseViz {
  display: flex;
  align-items: center;
  justify-content: center; /* Center items */
  gap: clamp(10px, 2vw, 20px); /* Responsive gap */
  padding: 10px 5px;
  min-height: 100px; /* Ensure minimum height */
}

.opSymbol {
  font-size: clamp(1.2em, 3vw, 1.8em); /* Responsive */
  color: #7f8c8d; /* Grey */
  margin: 0 5px;
}

.matrixContainer {
    border: 1px solid #bdc3c7; /* Grey border */
    border-radius: 4px;
    padding: 6px 8px;
    background-color: #fdfefe;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 70px; /* Min width */
    transition: border-color 0.3s, box-shadow 0.3s;
}
.matrixContainer.highlighted {
    border-color: #f39c12; /* Orange highlight */
    box-shadow: 0 0 5px rgba(243, 156, 18, 0.5);
}


.matrixLabel {
   font-size: 0.8em;
   color: #34495e;
   margin-bottom: 5px;
   font-weight: 500;
   min-height: 1.2em;
   text-align: center;
   width: 100%;
}

.matrix {
   display: flex;
   width: clamp(40px, 10vw, 70px); /* Responsive */
   height: clamp(30px, 8vw, 50px); /* Responsive */
   border: 1px solid #d5dbdb; /* Light grey */
   background-color: #eaf2f8; /* Very light blue */
   overflow: hidden;
   position: relative;
}

.matrix.colSharded { flex-direction: row; }
.matrix.rowSharded { flex-direction: column; }

.matrixShardVisual {
    box-sizing: border-box;
    background-color: rgba(133, 193, 233, 0.3); /* Light blue transparent */
    flex-grow: 1; /* Fill available space */
}
.matrix.colSharded .matrixShardVisual {
   height: 100%;
   border-right: 1px dashed #aed6f1;
}
.matrix.rowSharded .matrixShardVisual {
   width: 100%;
   border-bottom: 1px dashed #aed6f1;
}
.matrixShardVisual:last-child {
    border-right: none;
    border-bottom: none;
}
.matrixPlaceholder {
    min-width: 70px; /* Match matrix container */
    min-height: 80px; /* Match matrix container height roughly */
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ccc;
    font-style: italic;
} 